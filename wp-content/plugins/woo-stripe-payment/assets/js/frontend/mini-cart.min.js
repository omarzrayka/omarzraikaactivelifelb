!function(n,e){function i(t){this.message_container=".widget_shopping_cart_content",e.BaseGateway.call(this,t,s)}function t(t){i.apply(this,arguments)}function p(t){i.apply(this,arguments)}function o(t){i.apply(this,arguments)}i.prototype.on_token_received=function(){this.block(),this.block_cart(),e.BaseGateway.prototype.on_token_received.apply(this,arguments)},i.prototype.block_cart=function(){n(this.container).closest(".widget_shopping_cart_content").find(".wc-stripe-overlay").addClass("active")},i.prototype.unblock_cart=function(){n(this.container).closest(".widget_shopping_cart_content").find(".wc-stripe-overlay").addClass("active")},(t.prototype=Object.assign({},e.BaseGateway.prototype,i.prototype,e.GooglePay.prototype)).initialize=function(){this.createPaymentsClient(),this.isReadyToPay().then(function(){this.$button.find(".gpay-button").addClass("button"),this.append_button()}.bind(this))},t.prototype.create_button=function(){e.GooglePay.prototype.create_button.apply(this,arguments),this.$button=this.$button.find(".gpay-button"),this.append_button()},t.prototype.append_button=function(){n(this.container).find(".wc-stripe-gpay-mini-cart").empty(),n(this.container).find(".wc-stripe-gpay-mini-cart").append(this.$button).show()},(p.prototype=Object.assign({},e.BaseGateway.prototype,i.prototype,e.ApplePay.prototype)).initialize=function(){e.ApplePay.prototype.initialize.apply(this,arguments)},p.prototype.append_button=function(){n(this.container).find(".wc-stripe-applepay-mini-cart").empty(),n(this.container).find(".wc-stripe-applepay-mini-cart").append(this.$button).show()},(o.prototype=Object.assign({},e.BaseGateway.prototype,i.prototype,e.PaymentRequest.prototype)).initialize=function(){e.PaymentRequest.prototype.initialize.apply(this,arguments)},o.prototype.create_button=function(){this.append_button()},o.prototype.append_button=function(){n(this.container).find(".wc-stripe-payment-request-mini-cart").empty().show(),this.paymentRequestButton.mount(n(this.container).find(".wc-stripe-payment-request-mini-cart").first()[0])};var a=[],s=null;"undefined"!=typeof wc_stripe_googlepay_mini_cart_params&&a.push([t,wc_stripe_googlepay_mini_cart_params]),"undefined"!=typeof wc_stripe_applepay_mini_cart_params&&a.push([p,wc_stripe_applepay_mini_cart_params]),"undefined"!=typeof wc_stripe_payment_request_mini_cart_params&&a.push([o,wc_stripe_payment_request_mini_cart_params]),n(document.body).on("wc_fragments_refreshed wc_fragments_loaded",function(){n(".widget_shopping_cart_content").not(":empty").each(function(t,e){!n(e).find(".wc_stripe_mini_cart_payment_methods").length||(e=n(e).parent()).length&&(t="wc-stripe-mini-cart-idx-"+t,e.addClass(t),e.find(".widget_shopping_cart_content").prepend('<div class="wc-stripe-overlay"></div>'),s="."+t+" .widget_shopping_cart_content p.buttons",a.forEach(function(t){new t[0](t[1])}))})})}(jQuery,window.wc_stripe);